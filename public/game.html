<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dice Game - Single Player</title>
    <link rel="icon" type="image/png" href="/images/DW_Logo.png">
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script type="module" src="items.js"></script>
    <script type="module" src="app.js"></script>
    <script type="module" src="/modules/ui.js"></script>
    <script type="module" src="itemEffects.js"></script>

    

</head>
<body>

    <div id="loading-screen">
        <img src="/images/Transition_0.gif" alt="Loading..." id="loading-image">
    </div>


    
    
    <div id="combinationsModal" class="modal">
        <div class="modal-content">
            <h2>Dice Combinations</h2>
            <p>Here are the possible dice combinations...</p>
            <button id="closeCombinationsButton">Close</button>
        </div>
    </div>

    <div id="game-container">
        <!-- Left Side -->
        <div id="left-side">
            <div id="status-hud">
                <div class="status-card balance-card" id="betting-status">
                    <div class="status-card__header">
                        <span class="status-card__label">Balance</span>
                        <span class="status-card__pulse" id="balance-trend">--</span>
                    </div>
                    <div class="status-card__value" id="balance-number">$0</div>
                    <div class="status-card__sub">Bet: <span id="bet-amount-text">$0</span></div>
                    <div id="balance-display" class="balance-display"></div>
                    <div id="betting-status-note" class="status-card__note"></div>
                </div>
                <div class="status-card rent-card">
                    <div class="status-card__label">Rent Due</div>
                    <div class="status-card__value" id="rent-amount-text">$0</div>
                    <div class="status-card__sub">Rolls Left: <span id="rent-rolls-text">0</span></div>
                    <div class="status-card__summary" id="rent-summary-text">Rent Due: $400 in 6 rolls</div>
                </div>
                <div class="status-card multiplier-card">
                    <div class="status-card__label">Multiplier</div>
                    <div class="status-card__value" id="multiplier-value">1.00x</div>
                    <div class="status-card__sub" id="multiplier-breakdown">Stack wins to power up.</div>
                </div>
                <div class="status-card earnings-card" id="earnings-card">
                    <div class="status-card__label">Earnings / Sec</div>
                    <div class="status-card__value">$<span id="earnings-per-second">0.00</span></div>
                    <div class="status-card__sub" id="earnings-trend">Awaiting action…</div>
                </div>
            </div>

            <div class="panel-section">
                <button id="showCombinationsButton" class="chip-button">Show Combinations</button>
            </div>

            <!-- Hustler Info -->
            <div id="hustler-info" class="panel-section">
                <h3>Hustler Notes</h3>
                <p id="left-multiplier-note">Keep stacking wins to grow your multiplier.</p>
            </div>

            <!-- Inventory -->
            <div id="purchased-items-section" class="panel-section">
                <h3>Purchased Items</h3>
                <div id="purchased-items-display"></div>
            </div>

            <!-- Buy Item -->
            <div id="buy-item-section" class="panel-section">
                <img id="store-image" src="/images/StoreSign_Closed0.gif" alt="Store Closed" />
                <div id="buy-item-container">
                    <h2>SHOP</h2>
                    <div id="item-list"></div>
                    <div id="item-description"></div>
                    <div id="button-container">
                        <button id="saveMoneyButton">Done Shopping</button>

                        <button id="restockButton">
                            <img src="/images/restock-icon.gif" alt="Restock Icon" />
                            <span id="restock-fee">Restock Fee: $0</span>
                        </button>

                    </div>
                </div>
            </div>

            <!-- Inventory -->
            <div id="inventory" class="panel-section">
                <h3>Inventory</h3>
                <ul id="inventory-list"></ul>
            </div>
        </div>


        <!-- Right Side -->
        <div id="right-side">
            <div id="scoreboard" class="scoreboard">
                <div class="scoreboard__main">
                    <span class="scoreboard__label">Bankroll</span>
                    <div class="scoreboard__value" id="scoreboard-balance">$0</div>
                </div>
                <div class="scoreboard__chips">
                    <div class="scoreboard__chip">
                        <span class="scoreboard__chip-label">Bet</span>
                        <span class="scoreboard__chip-value" id="scoreboard-bet">$0</span>
                    </div>
                    <div class="scoreboard__chip">
                        <span class="scoreboard__chip-label">Rent Due</span>
                        <span class="scoreboard__chip-value" id="scoreboard-rent">$0</span>
                        <span class="scoreboard__chip-sub"><span id="scoreboard-rolls">0</span> rolls left</span>
                    </div>
                    <div class="scoreboard__chip">
                        <span class="scoreboard__chip-label">Multiplier</span>
                        <span class="scoreboard__chip-value" id="scoreboard-multiplier">1.00x</span>
                    </div>
                </div>
            </div>

            <div id="dice-stage">
                <div id="dice-container">
                    <img id="dice1" class="dice" src="/images/dice1.gif" alt="Dice 1">
                    <img id="dice2" class="dice" src="/images/dice2.gif" alt="Dice 2">
                </div>
                <p id="gameStatus" class="game-status-banner"></p>
            </div>

            <div id="earnings-counter" class="earnings-banner">
                <span class="earnings-banner__label">Earnings per Second</span>
                <span class="earnings-banner__value">$<span id="earnings-per-second">0.00</span></span>
            </div>

            <div id="controls" class="control-panel">
                <img id="rollButton" src="/images/Button_RollDice.gif" alt="Roll Dice" class="button-image">
                <input type="number" id="betAmount" class="pill-input" placeholder="Enter Bet Amount" min="1">
                <img id="betButton" src="/images/Button_PlaceBet.gif" alt="Place Bet" class="button-image">
                <img id="bet25Button" src="/images/Button_Bet25.gif" alt="Bet 25%" class="button-image">
                <img id="bet50Button" src="/images/Button_Bet50.gif" alt="Bet 50%" class="button-image">
                <img id="bet100Button" src="/images/Button_Bet100.gif" alt="Bet 100%" class="button-image">
                <button id="quitButton" class="chip-button danger">Quit Game</button>
            </div>

            <div id="crypto-section" class="neon-panel">
                <button id="pay-with-bitcoin" class="crypto-chip">
                    <span class="crypto-chip__icon">₿</span>
                    <span>Pay with Bitcoin (Kraken)</span>
                </button>

                <button id="connect-metamask" class="crypto-chip">
                    <img src="/images/MetaMask_Fox.png" alt="MetaMask">
                    <span>Connect MetaMask</span>
                </button>

                <div class="crypto-input">
                    <img src="/images/ETH_Logo.png" alt="ETH" class="crypto-input__icon">
                    <input type="number" id="betAmountETH" placeholder="Enter Bet in ETH" step="0.01" min="0">
                </div>
                <img id="eth-bet-button" src="/images/Button_PlaceBet.gif" alt="Place Bet (ETH)" class="button-image crypto-bet-button">
            </div>

            <div class="crypto-instructions">
                <span class="crypto-instructions__label">Kraken BTC Address:</span>
                <code id="kraken-btc-address">3BuG5H7qyEVsnRk7cs6i2sgjYoRVGEHXtb</code>
                <button id="copy-kraken-address" class="chip-button chip-button--compact">Copy Address</button>
            </div>

            <div id="fortune-area" class="neon-panel">
                <div id="fortune-cookie-section">
                    <img id="cookie-buy" src="/images/cookie_Buy.png" alt="Buy Fortune Cookie">
                    <button id="buy-cookie-button" class="chip-button fortune">
                        <img src="/images/ETH_Logo.png" alt="ETH Logo">
                        Buy ($1 ETH)
                    </button>
                </div>
                <div id="fortune-collection">
                    <h3>My Fortune Cookies</h3>
                    <p>Collected: <span id="cookie-count">0</span>/25</p>
                    <div id="my-fortunes" class="fortune-collection__grid"></div>
                </div>
            </div>

            <!-- Game Over Section -->
            <div id="gameOverContainer" style="display: none;">
                <h2>Game Over</h2>
                <p>Better luck next time!</p>
                <button onclick="window.location.href='/';">Return to Main Menu</button>
            </div>
        </div>
    </div>

    <div id="shop-container">
        <h3>Shop</h3>
        <div id="hustler-list">
            <!-- Hustlers will be dynamically added here -->
        </div>
        <div id="item-list">
            <!-- Items will be dynamically added here -->
        </div>
        <button id="saveMoneyButtonAlt">Done Shopping (Alt)</button>
    </div>
    
    <!-- Hustler Panel -->
<div id="hustler-panel" style="display: none;">
    <h3>Hustlers</h3>
    <div id="hustlers-display">
        <!-- Dynamically add hustlers with JS -->
    </div>
</div>

<div id="shop-area" style="display: none;">
    <h2>Shop</h2>
    <div id="shop-items">
        <!-- Items rendered here -->
    </div>
    <button id="reroll-button">Reroll ($5)</button>
</div>

<div id="leaderboard-overlay" style="display: none;">
    <div id="leaderboard-prompt">
        <h2>Enter Your Name for the Leaderboard</h2>
        <input type="text" id="player-name" placeholder="Your Name" maxlength="20" />
        <button id="submit-leaderboard">Submit</button>
    </div>
    <div id="leaderboard-display">
        <h2>Global Leaderboard</h2>
        <div id="leaderboard-entries"></div>
    </div>
</div>

<div id="fortune-display" style="display: none;">
    <img id="cookie-open" src="/images/cookie_Open.png" alt="Open Fortune Cookie">
    <div id="fortune-text"></div>
    <button id="close-fortune">Close</button>
</div>

<div id="chat-footer">
    <div class="chat-panel">
        <div id="message-list" class="chat-messages"></div>
        <div class="chat-sidebar">
            <h4>Players</h4>
            <ul id="player-names"></ul>
        </div>
    </div>
    <div class="chat-input-row">
        <input id="message-input" type="text" placeholder="Type your message..." />
        <button id="send-message">Send</button>
    </div>
</div>

<script src="/socket.io/socket.io.js"></script> <!-- Load Socket.IO -->
<script src="/socket-init.js"></script> <!-- Initialize Socket -->
<script type="module" src="/app.js"></script>
    
    
</body>
</html>


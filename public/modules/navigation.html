<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dreamworld Navigation Prototype</title>
    <link rel="icon" type="image/png" href="/images/DW_Logo.png">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
    <link rel="stylesheet" href="navigation.css">
</head>
<body>
    <div class="nav-app">
        <aside class="nav-panel">
            <section class="profile-card">
                <img src="/images/DW_Logo.png" alt="Player avatar" class="profile-card__avatar" />
                <div class="profile-card__details">
                    <h1 class="profile-card__name">Operative 27</h1>
                    <p class="profile-card__tagline">Route planning &amp; stamina monitor</p>
                </div>
            </section>

            <section class="panel-section">
                <header class="panel-section__header">
                    <h2>Attributes</h2>
                </header>
                <div class="attribute-row">
                    <label for="agility-input">Agility</label>
                    <div class="attribute-row__input">
                        <input type="number" id="agility-input" min="0" max="99" value="0">
                        <span id="agility-value">0</span>
                    </div>
                </div>
                <div class="attribute-row">
                    <label for="grit-input">Grit</label>
                    <div class="attribute-row__input">
                        <input type="number" id="grit-input" min="0" max="99" value="0">
                        <span id="grit-value">0</span>
                    </div>
                </div>
                <p class="panel-note">Agility adds stamina (+10 per point). Grit extends your stun tolerance.</p>
            </section>

            <section class="panel-section">
                <header class="panel-section__header">
                    <h2>Status</h2>
                </header>
                <div class="status-line">
                    <span class="status-line__label">State</span>
                    <span id="status-badge" class="status-badge status-badge--ready">Ready</span>
                </div>
                <div class="stat-bar stat-bar--stamina">
                    <div class="stat-bar__header">
                        <span>Stamina</span>
                        <span id="stamina-value">100 / 100</span>
                    </div>
                    <div class="stat-bar__track">
                        <div id="stamina-fill" class="stat-bar__fill"></div>
                    </div>
                </div>
                <div class="stat-bar stat-bar--stun">
                    <div class="stat-bar__header">
                        <span>Stun / K.O.</span>
                        <span id="stun-value">0 / 100</span>
                    </div>
                    <div class="stat-bar__track">
                        <div id="stun-fill" class="stat-bar__fill"></div>
                    </div>
                </div>
            </section>

            <section class="panel-section">
                <header class="panel-section__header">
                    <h2>Travel mode</h2>
                </header>
                <div class="mode-toggle" role="group" aria-label="Travel mode selector">
                    <button type="button" class="mode-toggle__button" data-mode="walk">Walk</button>
                    <button type="button" class="mode-toggle__button is-active" data-mode="run">Run</button>
                    <button type="button" class="mode-toggle__button mode-toggle__button--ghost" data-mode="car">Car</button>
                </div>
                <p class="panel-note">Walking is stamina-free but slower. Running is faster and drains stamina. Cars (3Ã— speed) will follow roads in a later update.</p>
            </section>

            <section class="panel-section">
                <header class="panel-section__header">
                    <h2>Controls</h2>
                </header>
                <div class="control-row">
                    <button type="button" id="start-travel" class="primary-button">Start travel</button>
                    <button type="button" id="rest-button" class="secondary-button">Rest +10s</button>
                </div>
                <p class="panel-note">Tap anywhere on the map to set a destination. Drag the waypoint marker to refine the route.</p>
            </section>

            <section class="panel-section">
                <header class="panel-section__header">
                    <h2>Travel intel</h2>
                </header>
                <div id="travel-summary" class="summary-panel">
                    <p class="summary-panel__placeholder">Pick a travel mode to preview the route.</p>
                </div>
            </section>

            <section class="panel-section">
                <header class="panel-section__header">
                    <h2>Recovery</h2>
                </header>
                <div id="recovery-readout" class="summary-panel">
                    <p class="summary-panel__placeholder">No stun accumulated.</p>
                </div>
            </section>

            <div id="system-message" class="system-message" role="status" aria-live="polite"></div>
        </aside>

        <main class="nav-map">
            <div id="map" aria-label="City navigation map"></div>
        </main>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script type="module" src="navigation.js"></script>
</body>
</html>
